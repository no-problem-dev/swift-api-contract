{"schemaVersion":{"major":0,"patch":0,"minor":3},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StreamingAPIContract"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP","text":"Sendable"}],"languages":["swift"]}]},{"kind":"content","content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"通常の","type":"text"},{"code":"APIContract","type":"codeVoice"},{"text":"がリクエスト-レスポンス型なのに対し、","type":"text"},{"text":" ","type":"text"},{"code":"StreamingAPIContract","type":"codeVoice"},{"text":"はリクエスト-ストリーム型の契約を表現します。","type":"text"}]},{"level":2,"type":"heading","anchor":"%E4%BD%BF%E7%94%A8%E4%BE%8B","text":"使用例"},{"type":"codeListing","syntax":"swift","code":["@StreamingEndpoint(.post, path: \"stream\")","public struct StartStream {","    @Body public var request: SearchRequest","    public typealias Event = SearchEvent  \/\/ ストリームで送信されるイベント型","}"]},{"level":2,"type":"heading","anchor":"%E8%A8%AD%E8%A8%88%E6%80%9D%E6%83%B3","text":"設計思想"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"Event","type":"codeVoice"},{"text":"型がストリームで送信されるイベントを型安全に宣言","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"通常のAPIContractと同様のパス解決・認証要件を持つ"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"クライアント\/サーバー両方で同一の契約を共有","type":"text"}]}]}]}]}],"metadata":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StreamingAPIContract"}],"roleHeading":"Protocol","modules":[{"name":"APIContract"}],"externalID":"s:11APIContract09StreamingA0P","navigatorTitle":[{"text":"StreamingAPIContract","kind":"identifier"}],"symbolKind":"protocol","role":"symbol","title":"StreamingAPIContract"},"kind":"symbol","variants":[{"paths":["\/documentation\/apicontract\/streamingapicontract"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/APIContract\/documentation\/APIContract"]]},"abstract":[{"text":"ストリーミングレスポンスを返すAPI契約","type":"text"}],"topicSections":[{"title":"Associated Types","generated":true,"identifiers":["doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Event","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Failure","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Group","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Input"],"anchor":"Associated-Types"},{"title":"Instance Methods","generated":true,"identifiers":["doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/buildRequest(baseURL:encoder:)","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/stream(using:)"],"anchor":"Instance-Methods"},{"title":"Type Properties","generated":true,"identifiers":["doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/auth","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/method","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/pathTemplate","doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/subPath"],"anchor":"Type-Properties"},{"title":"Type Methods","generated":true,"identifiers":["doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/resolvePath(with:)"],"anchor":"Type-Methods"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract"},"relationshipsSections":[{"kind":"relationships","title":"Inherits From","identifiers":["doc:\/\/APIContract\/s8SendableP","doc:\/\/APIContract\/s16SendableMetatypeP"],"type":"inheritsFrom"}],"references":{"doc://APIContract/documentation/APIContract/StreamingAPIContract/resolvePath(with:)":{"role":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"resolvePath"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Input","preciseIdentifier":"s:11APIContract09StreamingA0P5InputQa"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"kind":"symbol","defaultImplementations":1,"type":"topic","url":"\/documentation\/apicontract\/streamingapicontract\/resolvepath(with:)","identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/resolvePath(with:)","required":true,"title":"resolvePath(with:)","abstract":[{"text":"入力からパスを解決する","type":"text"}]},"doc://APIContract/documentation/APIContract/StreamingAPIContract/Input":{"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"リクエスト入力型"}],"url":"\/documentation\/apicontract\/streamingapicontract\/input","title":"Input","identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Input","role":"symbol","required":true,"fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"Input"},{"kind":"text","text":" : "},{"preciseIdentifier":"s:11APIContract8APIInputP","kind":"typeIdentifier","text":"APIInput"},{"kind":"text","text":" = "},{"preciseIdentifier":"s:11APIContract10EmptyInputV","kind":"typeIdentifier","text":"EmptyInput"}]},"doc://APIContract/documentation/APIContract/StreamingAPIContract/Failure":{"title":"Failure","kind":"symbol","url":"\/documentation\/apicontract\/streamingapicontract\/failure","type":"topic","abstract":[{"type":"text","text":"エラー型"}],"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Failure","role":"symbol","fragments":[{"text":"associatedtype","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Failure","kind":"identifier"},{"text":" : ","kind":"text"},{"preciseIdentifier":"s:11APIContract0A5ErrorP","text":"APIContractError","kind":"typeIdentifier"},{"text":" = ","kind":"text"},{"preciseIdentifier":"s:11APIContract15NoContractErrorO","text":"NoContractError","kind":"typeIdentifier"}],"required":true},"doc://APIContract/documentation/APIContract":{"identifier":"doc:\/\/APIContract\/documentation\/APIContract","kind":"symbol","abstract":[{"type":"text","text":"Swiftマクロを活用した型安全なAPIコントラクト定義ライブラリ。"}],"type":"topic","role":"collection","url":"\/documentation\/apicontract","title":"APIContract"},"doc://APIContract/documentation/APIContract/StreamingAPIContract/subPath":{"abstract":[{"type":"text","text":"サブパス（グループのbasePathからの相対パス）"}],"required":true,"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/subPath","type":"topic","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"subPath","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"}],"kind":"symbol","title":"subPath","url":"\/documentation\/apicontract\/streamingapicontract\/subpath"},"doc://APIContract/documentation/APIContract/StreamingAPIContract/method":{"role":"symbol","url":"\/documentation\/apicontract\/streamingapicontract\/method","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"method"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11APIContract9APIMethodO","text":"APIMethod"}],"title":"method","abstract":[{"type":"text","text":"HTTPメソッド"}],"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/method","kind":"symbol","type":"topic","required":true},"doc://APIContract/documentation/APIContract/StreamingAPIContract/Group":{"required":true,"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Group","fragments":[{"text":"associatedtype","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Group","kind":"identifier"},{"text":" : ","kind":"text"},{"text":"APIContractGroup","kind":"typeIdentifier","preciseIdentifier":"s:11APIContract0A5GroupP"},{"text":" = ","kind":"text"},{"text":"NoGroup","kind":"typeIdentifier","preciseIdentifier":"s:11APIContract7NoGroupO"}],"role":"symbol","kind":"symbol","url":"\/documentation\/apicontract\/streamingapicontract\/group","title":"Group","type":"topic","abstract":[{"type":"text","text":"APIグループ"}]},"doc://APIContract/documentation/APIContract/StreamingAPIContract/stream(using:)":{"abstract":[{"text":"指定したexecutorでストリーミングを開始","type":"text"}],"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/stream(using:)","conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"code":"Self","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"Self.Input","type":"codeVoice"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"type":"topic","title":"stream(using:)","url":"\/documentation\/apicontract\/streamingapicontract\/stream(using:)","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"stream"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Executor"},{"kind":"text","text":">("},{"kind":"externalParam","text":"using"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Executor"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"AsyncThrowingStream","preciseIdentifier":"s:Scs"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Event","preciseIdentifier":"s:11APIContract09StreamingA0P5EventQa"},{"kind":"text","text":", any "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":">"}]},"doc://APIContract/documentation/APIContract/StreamingAPIContract/pathTemplate":{"type":"topic","abstract":[{"type":"text","text":"完全なパステンプレート（グループのbasePath + subPath）"}],"kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"pathTemplate"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"}],"url":"\/documentation\/apicontract\/streamingapicontract\/pathtemplate","role":"symbol","title":"pathTemplate","identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/pathTemplate"},"doc://APIContract/documentation/APIContract/StreamingAPIContract/Event":{"title":"Event","identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/Event","role":"symbol","kind":"symbol","url":"\/documentation\/apicontract\/streamingapicontract\/event","required":true,"type":"topic","abstract":[{"text":"ストリームで送信されるイベント型","type":"text"}],"fragments":[{"text":"associatedtype","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Event","kind":"identifier"},{"text":" : ","kind":"text"},{"text":"Decodable","kind":"typeIdentifier","preciseIdentifier":"s:Se"},{"text":", ","kind":"text"},{"text":"Encodable","kind":"typeIdentifier","preciseIdentifier":"s:SE"},{"text":", ","kind":"text"},{"text":"Sendable","kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP"}]},"doc://APIContract/s16SendableMetatypeP":{"title":"Swift.SendableMetatype","type":"unresolvable","identifier":"doc:\/\/APIContract\/s16SendableMetatypeP"},"doc://APIContract/s8SendableP":{"identifier":"doc:\/\/APIContract\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://APIContract/documentation/APIContract/StreamingAPIContract":{"role":"symbol","identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract","abstract":[{"type":"text","text":"ストリーミングレスポンスを返すAPI契約"}],"kind":"symbol","title":"StreamingAPIContract","url":"\/documentation\/apicontract\/streamingapicontract","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"StreamingAPIContract"}],"navigatorTitle":[{"kind":"identifier","text":"StreamingAPIContract"}],"type":"topic"},"doc://APIContract/documentation/APIContract/StreamingAPIContract/auth":{"url":"\/documentation\/apicontract\/streamingapicontract\/auth","title":"auth","kind":"symbol","required":true,"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"auth","kind":"identifier"},{"text":": ","kind":"text"},{"text":"AuthRequirement","preciseIdentifier":"s:11APIContract15AuthRequirementO","kind":"typeIdentifier"}],"role":"symbol","defaultImplementations":1,"type":"topic","abstract":[{"type":"text","text":"認証要件"}],"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/auth"},"doc://APIContract/documentation/APIContract/StreamingAPIContract/buildRequest(baseURL:encoder:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"buildRequest","kind":"identifier"},{"text":"(","kind":"text"},{"text":"baseURL","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10Foundation3URLV","text":"URL","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"encoder","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10Foundation11JSONEncoderC","text":"JSONEncoder","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:10Foundation10URLRequestV","text":"URLRequest","kind":"typeIdentifier"}],"type":"topic","conformance":{"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}],"constraints":[{"type":"codeVoice","code":"Self"},{"type":"text","text":" is "},{"type":"codeVoice","code":"Self.Input"},{"type":"text","text":"."}]},"title":"buildRequest(baseURL:encoder:)","abstract":[{"type":"text","text":"URLRequestを構築"}],"identifier":"doc:\/\/APIContract\/documentation\/APIContract\/StreamingAPIContract\/buildRequest(baseURL:encoder:)","kind":"symbol","role":"symbol","url":"\/documentation\/apicontract\/streamingapicontract\/buildrequest(baseurl:encoder:)"}}}